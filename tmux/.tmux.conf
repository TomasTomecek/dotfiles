set-window-option -g xterm-keys on
set-option -g default-terminal "screen-256color"
#set -g terminal-overrides 'screen*:smcup@:rmcup@'
set -g terminal-overrides "*:XT:smcup@:rmcup@"

#set status-utf8 on

# set scrollback history to 20k
set -g history-limit 20000

bind-key -n C-a send-prefix

# start with window 1 (instead of 0)
set -g base-index 1

# start with pane 1
set -g pane-base-index 1

set -sg escape-time 0

setw -g mode-keys vi
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection
bind-key y run-shell "tmux show-buffer | xclip -sel clip -i" \; display-message "Copied tmux buffer to system clipboard"

bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D
bind -n S-Left select-window -p
bind -n S-Right select-window -n
bind | split-window -h
bind - split-window -v
bind R source-file ~/.tmux.conf \; display-message "Config reloaded!"
bind -n M-z resize-pane -Z

# terminal title
set -g set-titles on

## STATUS
set-option -g status on                # turn the status bar on
set -g status-justify centre           # center window list for clarity
set-option -g status-interval 5        # refresh status every 5 seconds

# visual notification of activity in other windows
# dont display messages, or dont monitor anything
setw -g monitor-activity off
set-option -g bell-action any
set -g visual-bell off
setw -g automatic-rename off
setw -g allow-rename off

set -g status-left-length 70
set -g status-left " #[fg=yellow]#(ip a s eth0 | grep 'inet ' | awk '{print \"E \" $2}')#[fg=yellow]#(ip a s enp5s0 | grep 'inet ' | awk '{print \"E \" $2}')#[fg=yellow]#(/sbin/ip a s em1 | grep 'inet ' | awk '{print \"E \" $2}')#[fg=colour33]#(ip a s wlp3s0 | grep 'inet ' | awk '{print \"W \" $2}') #[fg=red]#(ip a s tun0 | grep 'inet ' | awk '{print \"vpn \" $2}')"

# show session name, window & pane number, mem-cpu-load, date and time 
# on right side of status bar
set -g status-right-length 100
#set -g status-right "#[fg=blue]#S #I:#P #[fg=yellow]:: #[fg=green]#(tmux-mem-cpu-load 5) :: %d %b %Y :: #(date | awk '{print $4}')"
set -g status-right "#[fg=green]#(tmux-mem-cpu-load 5) :: %d %b %Y :: #(date +\"%k:%M\") "
#set-window-option -g window-status-current-format "#[bg=colour0,fg=colour136]#I#[fg=colour166]#F #[fg=colour33]#W"
#setw -g window-status-format "#[fg=colour2]#[bg=colour0] #I#F #[bg=colour8]#[fg=colour6] #W "
#setw -g window-status-current-format "#[bg=colour0]#[fg=colour2] #I#F #[fg=colour8]#[bg=colour166] #W "
setw -g window-status-format "#[bg=colour0]#[fg=default] #I#F #[bg=default]#[fg=default] #W "
setw -g window-status-current-format "#[bg=colour0]#[fg=default] #I#F #[fg=default]#[bg=default] #W "

#### COLOUR (Solarized 256)

# default statusbar colors
set-option -g status-bg colour8 #base02
set-option -g status-fg colour136 #yellow
set-option -g status-attr default

# default window title colors
set-window-option -g window-status-fg colour244 #base0
set-window-option -g window-status-bg default
set-window-option -g window-status-attr dim

# active window title colors
set-window-option -g window-status-current-fg colour166 #orange
set-window-option -g window-status-current-bg default
set-window-option -g window-status-current-attr bright

# ACTIVITY
# highlight bells
set-option -gw window-status-bell-attr bold
set -wg window-status-bell-fg colour7
set -wg window-status-bell-bg colour3
# dont show anything for activity changes
set-option -gw window-status-activity-attr underscore
# dont show anything if content is added
set-option -gw window-status-content-attr underscore
#setw -g window-status-activity-fg colour166
#setw -g window-status-activity-bg colour166

# pane border
set-option -g pane-border-fg colour240 #base01
set-option -g pane-active-border-fg colour166 #orange

# message text
set-option -g message-bg colour235 #base02
set-option -g message-fg colour166 #orange

# pane number display
set-option -g display-panes-active-colour colour33 #blue
set-option -g display-panes-colour colour166 #orange

# clock
set-window-option -g clock-mode-colour colour64 #green
